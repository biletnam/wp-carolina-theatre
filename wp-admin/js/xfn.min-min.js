jQuery(document).ready(function(e){e("#link_rel").prop("readonly",!0),e("#linkxfndiv input").bind("click keyup",function(){var t=e("#me").is(":checked"),a="";e("input.valinp").each(function(){t?e(this).prop("disabled",!0).parent().addClass("disabled"):(e(this).removeAttr("disabled").parent().removeClass("disabled"),e(this).is(":checked")&&""!==e(this).val()&&(a+=e(this).val()+" "))}),e("#link_rel").val(t?"me":a.substr(0,a.length-1))})}),jQuery(document).ready(function(e){function t(e,t){e.children().hide(),e.children("."+t).show()}function a(e){e.removeClass("has-request-results"),e.next().hasClass("request-results")&&e.next().remove()}function n(t,n,o,r){var s="",i="request-results";a(t),r.length&&(e.each(r,function(e,t){s=s+"<li>"+t+"</li>"}),s="<ul>"+s+"</ul>"),t.addClass("has-request-results"),t.hasClass("status-request-confirmed")&&(i+=" status-request-confirmed"),t.hasClass("status-request-failed")&&(i+=" status-request-failed"),t.after(function(){return'<tr class="'+i+'"><th colspan="5"><div class="notice inline notice-alt '+n+'"><p>'+o+"</p>"+s+"</div></td></tr>"})}var o=window.privacyToolsL10n||{};e(".export-personal-data-handle").click(function(r){function s(e){t(l,"export-personal-data-success"),void 0!==e?window.location=e:f||i(o.noExportFile)}function i(e){t(l,"export-personal-data-failed"),e&&n(u,"notice-error",o.exportError,[e])}function d(t,a){e.ajax({url:window.ajaxurl,data:{action:"wp-privacy-export-personal-data",exporter:t,id:p,page:a,security:v,sendAsEmail:f},method:"post"}).done(function(e){var n=e.data;return e.success?void(n.done?t<m?setTimeout(d(t+1,1)):s(n.url):setTimeout(d(t,a+1))):void i(e.data)}).fail(function(e,t,a){i(a)})}var c=e(this),l=c.parents(".export-personal-data"),u=c.parents("tr"),p=l.data("request-id"),v=l.data("nonce"),m=l.data("exporters-count"),f=!!l.data("send-as-email");r.preventDefault(),r.stopPropagation(),l.blur(),a(u),t(l,"export-personal-data-processing"),d(1,1)}),e(".remove-personal-data-handle").click(function(r){function s(){var e=o.noDataFound,a="notice-success";t(l,"remove-personal-data-idle"),!1===f?!1===h?e=o.noDataFound:(e=o.noneRemoved,a="notice-warning"):!1===h?e=o.foundAndRemoved:(e=o.someNotRemoved,a="notice-warning"),n(u,"notice-success",e,g)}function i(){t(l,"remove-personal-data-failed"),n(u,"notice-error",o.removalError,[])}function d(t,a){e.ajax({url:window.ajaxurl,data:{action:"wp-privacy-erase-personal-data",eraser:t,id:p,page:a,security:v},method:"post"}).done(function(e){var n=e.data;return e.success?(n.items_removed&&(f=f||n.items_removed),n.items_retained&&(h=h||n.items_retained),n.messages&&(g=g.concat(n.messages)),void(n.done?t<m?setTimeout(d(t+1,1)):s():setTimeout(d(t,a+1)))):void i()}).fail(function(){i()})}var c=e(this),l=c.parents(".remove-personal-data"),u=c.parents("tr"),p=l.data("request-id"),v=l.data("nonce"),m=l.data("erasers-count"),f=!1,h=!1,g=[];r.stopPropagation(),l.blur(),a(u),t(l,"remove-personal-data-processing"),d(1,1)})}),function(e){e(document).on("click",function(t){var a,n,o,r=e(t.target);if(r.is("button.privacy-text-copy")&&(a=r.parent().parent(),n=a.find("div.wp-suggested-text"),n.length||(n=a.find("div.policy-text")),n.length))try{window.getSelection().removeAllRanges(),o=document.createRange(),n.addClass("hide-privacy-policy-tutorial"),o.selectNodeContents(n[0]),window.getSelection().addRange(o),document.execCommand("copy"),n.removeClass("hide-privacy-policy-tutorial"),window.getSelection().removeAllRanges()}catch(e){}})}(jQuery);