jQuery(document).ready(function($){$("#link_rel").prop("readonly",!0),$("#linkxfndiv input").bind("click keyup",function(){var e=$("#me").is(":checked"),t="";$("input.valinp").each(function(){e?$(this).prop("disabled",!0).parent().addClass("disabled"):($(this).removeAttr("disabled").parent().removeClass("disabled"),$(this).is(":checked")&&""!==$(this).val()&&(t+=$(this).val()+" "))}),$("#link_rel").val(e?"me":t.substr(0,t.length-1))})}),jQuery(document).ready(function($){function e(e,t){e.children().hide(),e.children("."+t).show()}function t(e){e.removeClass("has-request-results"),e.next().hasClass("request-results")&&e.next().remove()}function a(e,a,n,o){var r="",s="request-results";t(e),o.length&&($.each(o,function(e,t){r=r+"<li>"+t+"</li>"}),r="<ul>"+r+"</ul>"),e.addClass("has-request-results"),e.hasClass("status-request-confirmed")&&(s+=" status-request-confirmed"),e.hasClass("status-request-failed")&&(s+=" status-request-failed"),e.after(function(){return'<tr class="'+s+'"><th colspan="5"><div class="notice inline notice-alt '+a+'"><p>'+n+"</p>"+r+"</div></td></tr>"})}var n=window.privacyToolsL10n||{};$(".export-personal-data-handle").click(function(o){function r(t){e(c,"export-personal-data-success"),void 0!==t?window.location=t:m||s(n.noExportFile)}function s(t){e(c,"export-personal-data-failed"),t&&a(l,"notice-error",n.exportError,[t])}function i(e,t){$.ajax({url:window.ajaxurl,data:{action:"wp-privacy-export-personal-data",exporter:e,id:u,page:t,security:p,sendAsEmail:m},method:"post"}).done(function(a){var n=a.data;if(!a.success)return void s(a.data);n.done?e<v?setTimeout(i(e+1,1)):r(n.url):setTimeout(i(e,t+1))}).fail(function(e,t,a){s(a)})}var d=$(this),c=d.parents(".export-personal-data"),l=d.parents("tr"),u=c.data("request-id"),p=c.data("nonce"),v=c.data("exporters-count"),m=!!c.data("send-as-email");o.preventDefault(),o.stopPropagation(),c.blur(),t(l),e(c,"export-personal-data-processing"),i(1,1)}),$(".remove-personal-data-handle").click(function(o){function r(){var t=n.noDataFound,o="notice-success";e(c,"remove-personal-data-idle"),!1===m?!1===f?t=n.noDataFound:(t=n.noneRemoved,o="notice-warning"):!1===f?t=n.foundAndRemoved:(t=n.someNotRemoved,o="notice-warning"),a(l,"notice-success",t,h)}function s(){e(c,"remove-personal-data-failed"),a(l,"notice-error",n.removalError,[])}function i(e,t){$.ajax({url:window.ajaxurl,data:{action:"wp-privacy-erase-personal-data",eraser:e,id:u,page:t,security:p},method:"post"}).done(function(a){var n=a.data;if(!a.success)return void s();n.items_removed&&(m=m||n.items_removed),n.items_retained&&(f=f||n.items_retained),n.messages&&(h=h.concat(n.messages)),n.done?e<v?setTimeout(i(e+1,1)):r():setTimeout(i(e,t+1))}).fail(function(){s()})}var d=$(this),c=d.parents(".remove-personal-data"),l=d.parents("tr"),u=c.data("request-id"),p=c.data("nonce"),v=c.data("erasers-count"),m=!1,f=!1,h=[];o.stopPropagation(),c.blur(),t(l),e(c,"remove-personal-data-processing"),i(1,1)})}),function($){$(document).on("click",function(e){var t=$(e.target),a,n,o;if(t.is("button.privacy-text-copy")&&(a=t.parent().parent(),n=a.find("div.wp-suggested-text"),n.length||(n=a.find("div.policy-text")),n.length))try{window.getSelection().removeAllRanges(),o=document.createRange(),n.addClass("hide-privacy-policy-tutorial"),o.selectNodeContents(n[0]),window.getSelection().addRange(o),document.execCommand("copy"),n.removeClass("hide-privacy-policy-tutorial"),window.getSelection().removeAllRanges()}catch(e){}})}(jQuery);