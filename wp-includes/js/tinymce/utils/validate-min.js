var Validator={isEmail:function(s){return this.test(s,"^[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+@[-!#$%&'*+\\/0-9=?A-Z^_`a-z{|}~]+.[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+$")},isAbsUrl:function(s){return this.test(s,"^(news|telnet|nttp|file|http|ftp|https)://[-A-Za-z0-9\\.]+\\/?.*$")},isSize:function(s){return this.test(s,"^[0-9.]+(%|in|cm|mm|em|ex|pt|pc|px)?$")},isId:function(s){return this.test(s,"^[A-Za-z_]([A-Za-z0-9_])*$")},isEmpty:function(s){var t,e;if("SELECT"==s.nodeName&&s.selectedIndex<1)return!0;if("checkbox"==s.type&&!s.checked)return!0;if("radio"==s.type){for(e=0,t=s.form.elements;e<t.length;e++)if("radio"==t[e].type&&t[e].name==s.name&&t[e].checked)return!1;return!0}return new RegExp("^\\s*$").test(1==s.nodeType?s.value:s)},isNumber:function(s,t){return!(isNaN(1==s.nodeType?s.value:s)||t&&this.test(s,"^-?[0-9]*\\.[0-9]*$"))},test:function(s,t){return""==(s=1==s.nodeType?s.value:s)||new RegExp(t).test(s)}},AutoValidator={settings:{id_cls:"id",int_cls:"int",url_cls:"url",number_cls:"number",email_cls:"email",size_cls:"size",required_cls:"required",invalid_cls:"invalid",min_cls:"min",max_cls:"max"},init:function(s){var t;for(t in s)this.settings[t]=s[t]},validate:function(s){var t,e,i=this.settings,a=0;for(e=this.tags(s,"label"),t=0;t<e.length;t++)this.removeClass(e[t],i.invalid_cls),e[t].setAttribute("aria-invalid",!1);return a+=this.validateElms(s,"input"),a+=this.validateElms(s,"select"),3==(a+=this.validateElms(s,"textarea"))},invalidate:function(s){this.mark(s.form,s)},getErrorMessages:function(s){var t,e,i=this.settings,a,n,l,r=[],m=tinyMCEPopup.editor;for(t=this.tags(s,"label"),e=0;e<t.length;e++)this.hasClass(t[e],i.invalid_cls)&&(a=document.getElementById(t[e].getAttribute("for")),l={field:t[e].textContent},this.hasClass(a,i.min_cls,!0)?(message=m.getLang("invalid_data_min"),l.min=this.getNum(a,i.min_cls)):this.hasClass(a,i.number_cls)?message=m.getLang("invalid_data_number"):this.hasClass(a,i.size_cls)?message=m.getLang("invalid_data_size"):message=m.getLang("invalid_data"),message=message.replace(/{\#([^}]+)\}/g,function(s,t){return l[t]||"{#"+t+"}"}),r.push(message));return r},reset:function(s){var t=["label","input","select","textarea"],e,i,a,n=this.settings;if(null!=s)for(e=0;e<t.length;e++)for(a=this.tags(s.form?s.form:s,t[e]),i=0;i<a.length;i++)this.removeClass(a[i],n.invalid_cls),a[i].setAttribute("aria-invalid",!1)},validateElms:function(s,t){var e,i,a,n=this.settings,l=!0,r=Validator,m;for(e=this.tags(s,t),i=0;i<e.length;i++)a=e[i],this.removeClass(a,n.invalid_cls),this.hasClass(a,n.required_cls)&&r.isEmpty(a)&&(l=this.mark(s,a)),this.hasClass(a,n.number_cls)&&!r.isNumber(a)&&(l=this.mark(s,a)),this.hasClass(a,n.int_cls)&&!r.isNumber(a,!0)&&(l=this.mark(s,a)),this.hasClass(a,n.url_cls)&&!r.isAbsUrl(a)&&(l=this.mark(s,a)),this.hasClass(a,n.email_cls)&&!r.isEmail(a)&&(l=this.mark(s,a)),this.hasClass(a,n.size_cls)&&!r.isSize(a)&&(l=this.mark(s,a)),this.hasClass(a,n.id_cls)&&!r.isId(a)&&(l=this.mark(s,a)),this.hasClass(a,n.min_cls,!0)&&(m=this.getNum(a,n.min_cls),(isNaN(m)||parseInt(a.value)<parseInt(m))&&(l=this.mark(s,a))),this.hasClass(a,n.max_cls,!0)&&(m=this.getNum(a,n.max_cls),(isNaN(m)||parseInt(a.value)>parseInt(m))&&(l=this.mark(s,a)));return l},hasClass:function(s,t,e){return new RegExp("\\b"+t+(e?"[0-9]+":"")+"\\b","g").test(s.className)},getNum:function(s,t){return t=s.className.match(new RegExp("\\b"+t+"([0-9]+)\\b","g"))[0],t=t.replace(/[^0-9]/g,"")},addClass:function(s,t,e){var i=this.removeClass(s,t);s.className=e?t+(""!==i?" "+i:""):(""!==i?i+" ":"")+t},removeClass:function(s,t){return t=s.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," "),s.className=" "!==t?t:""},tags:function(s,t){return s.getElementsByTagName(t)},mark:function(s,t){var e=this.settings;return this.addClass(t,e.invalid_cls),t.setAttribute("aria-invalid","true"),this.markLabels(s,t,e.invalid_cls),!1},markLabels:function(s,t,e){var i,a;for(i=this.tags(s,"label"),a=0;a<i.length;a++)i[a].getAttribute("for")!=t.id&&i[a].htmlFor!=t.id||this.addClass(i[a],e);return null}};